-- -- Configuring float diagnostict window and border
vim.cmd [[highlight FloatBorder guifg=#FFFFFF]]


local border = {
      {"ü≠Ω", "FloatBorder"},
      {"‚ñî", "FloatBorder"},
      {"ü≠æ", "FloatBorder"},
      {"‚ñï", "FloatBorder"},
      {"ü≠ø", "FloatBorder"},
      {"‚ñÅ", "FloatBorder"},
      {"ü≠º", "FloatBorder"},
      {"‚ñè", "FloatBorder"},
}

-- local orig_util_open_floating_preview = vim.lsp.util.open_floating_preview
-- function vim.lsp.util.open_floating_preview(contents, syntax, opts, ...)
--   opts = opts or {}
--   opts.border = opts.border or border
--   return orig_util_open_floating_preview(contents, syntax, opts, ...)
-- end

vim.diagnostic.config({
  virtual_text = false,
  signs = true,
  underline = true,
  update_in_insert = false,
  severity_sort = true,
  float = {
    border = 'rounded',
    source = 'always',
    header = ''
  }
})

vim.o.updatetime = 250
vim.opt.completeopt = {'menuone', 'noselect', 'noinsert'}
vim.cmd [[autocmd CursorHold,CursorHoldI * lua vim.diagnostic.open_float(nil, {focusable=false, scope="cursor"})]]

